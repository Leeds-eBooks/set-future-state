// @flow

import type {Component} from 'react'

type SetFutureState<E, V, P, S> = (
  self: Component<P, S>,
  eventual: Future<E, V> | (() => Promise<V>),
  reducer: (value?: V, prevState: S, props: P) => $Shape<S> | null,
  onError?: (E) => *
) => void

declare export default function withFutureState<E, V, P, S>(
  builder: (SetFutureState<E, V, P, S>) => Class<Component<P, S>>
): Class<Component<P, S>>
